
# Dado un árbol con los nombre de los superhéroes y villanos de la saga Marvel Cinematic Univer- se (MCU), desarrollar un algoritmo que contemple lo siguiente:

# a. además del nombre del superhéroe, en cada nodo del árbol se almacenará un campo booleano que indica si es un héroe o un villano, True y False respectivamente;
# b. listar los villanos ordenados alfabéticamente;
# c. mostrar todos los superhéroes que empiezan con C;
# d. determinar cuántos superhéroes hay el árbol;
# e. Doctor Strange en realidad está mal cargado. Utilice una búsqueda por proximidad para encontrarlo en 
# el árbol y modificar su nombre;
# f. listar los superhéroes ordenados de manera descendente;
# g. generar un bosque a partir de este árbol, un árbol debe contener a los superhéroes y otro a los villanos, luego resolver las siguiente tareas:
# I. determinar cuántos nodos tiene cada árbol;
# II. realizar un barrido ordenado alfabéticamente de cada árbol.



personajes = [

    {"nombre": "Iron Man", "es_heroe": True},
    {"nombre": "Captain America", "es_heroe": True},
    {"nombre": "Thor", "es_heroe": True},
    {"nombre": "Hulk", "es_heroe": True},
    {"nombre": "Black Widow", "es_heroe": True},
    {"nombre": "Hawkeye", "es_heroe": True},
    {"nombre": "Spider-Man", "es_heroe": True},

    {"nombre": "Doctor S", "es_heroe": True},

    {"nombre": "Black Panther", "es_heroe": True},
    {"nombre": "Scarlet Witch", "es_heroe": True},
    {"nombre": "Vision", "es_heroe": True},
    {"nombre": "Falcon", "es_heroe": True},
    {"nombre": "Winter Soldier", "es_heroe": True},
    {"nombre": "Ant-Man", "es_heroe": True},
    {"nombre": "Captain Marvel", "es_heroe": True},
    {"nombre": "Star-Lord", "es_heroe": True},
    {"nombre": "Gamora", "es_heroe": True},
    {"nombre": "Drax", "es_heroe": True},
    {"nombre": "Groot", "es_heroe": True},
    {"nombre": "Rocket Raccoon", "es_heroe": True},

    # Villanos
    {"nombre": "Thanos", "es_heroe": False},
    {"nombre": "Loki", "es_heroe": False},
    {"nombre": "Ultron", "es_heroe": False},
    {"nombre": "Red Skull", "es_heroe": False},
    {"nombre": "Hela", "es_heroe": False},
    {"nombre": "Killmonger", "es_heroe": False},
    {"nombre": "Mysterio", "es_heroe": False},
    {"nombre": "Vulture", "es_heroe": False},
    {"nombre": "Dormammu", "es_heroe": False},
    {"nombre": "Ronan", "es_heroe": False},
    {"nombre": "Ego", "es_heroe": False},
    {"nombre": "Abomination", "es_heroe": False}
]


class Node:
    def __init__(self, nombre: str, es_heroe: bool):
        self.nombre = nombre
        self.es_heroe = es_heroe
        self.left = None
        self.right = None


class SuperHeroeTree:
    def __init__(self):
        self.root = None

    def insert(self, nombre, es_heroe):
        def __insert(nodo, nombre, es_heroe):
            if nodo is None:
                return Node(nombre, es_heroe)

            if nombre < nodo.nombre:
                nodo.left = __insert(nodo.left, nombre, es_heroe)
            else:
                nodo.right = __insert(nodo.right, nombre, es_heroe)

            return nodo

        self.root = __insert(self.root, nombre, es_heroe)
    #B
    def villanos_ordenados(self):
        def __in_order(root):
            if root is not None:
                __in_order(root.left)
                if root.es_heroe == False:
                    print(root.nombre)
                __in_order(root.right)

        __in_order(self.root)

    #C
    def heroes_con_c(self):
        def __in_order(root):
            if root is not None:
                __in_order(root.left)
                if root.es_heroe == True and root.nombre.startswith("C"):
                    print(root.nombre)
                __in_order(root.right)

        __in_order(self.root)

    #D
    def cantidad_heroes(self):
        self.contador = 0

        def __pre_order(root):
            if root is not None:
                if root.es_heroe:
                    self.contador += 1
                __pre_order(root.left)
                __pre_order(root.right)

        __pre_order(self.root)
        print(f"La cantidad de superhéroes es: {self.contador}")


    def proximity_search(self, nombre):
        def __search(root):
            if root is not None:
                if root.nombre.startswith(nombre):
                    print(root.nombre)
                __search(root.left)
                __search(root.right)

        __search(self.root)
    
    def change_name(self, old_name, new_name):
        def __replace(root):
            if root is not None:
                if root.nombre == old_name:
                    root.nombre = new_name
                __replace(root.left)
                __replace(root.right)

        __replace(self.root)
    
    #F
    def post_order(self):
        def __post_order(root):
            if root is not None:
                __post_order(root.right)
                print(root.nombre)
                __post_order(root.left)
        if self.root is not None:
            __post_order(self.root)

    #G
    def generar_bosque(self, arbol_heroes, arbol_villanos):
        def __recorrer(root):
            if root is not None:
                if root.es_heroe:
                    arbol_heroes.insert(root.nombre, root.es_heroe)
                else:
                    arbol_villanos.insert(root.nombre, root.es_heroe)
                __recorrer(root.left)
                __recorrer(root.right)
        __recorrer(self.root)

    #I
    def cantidad_nodos(self):
        self.contador = 0
        def __pre_order(root):
            if root is not None:
                self.contador += 1
                __pre_order(root.left)
                __pre_order(root.right)

        __pre_order(self.root)
        print(f"La cantidad de Nodos es: {self.contador}")

    #II
    def in_order(self):
        def __in_order(root):
            if root is not None:
                __in_order(root.left)
                print(root.nombre)
                __in_order(root.right)
        __in_order(self.root)


superArbol = SuperHeroeTree()
superArbolHeroes = SuperHeroeTree()
superArbolVillanos = SuperHeroeTree()


for heroe in personajes:
    superArbol.insert(heroe["nombre"], heroe["es_heroe"])


#B
print("\nVillanos ordenados alfabéticamente:")
superArbol.villanos_ordenados()

#C
print("\nSuperhéroes que empiezan con C:")
superArbol.heroes_con_c()

#D
print("\nCantidad de superhéroes en el árbol:")
superArbol.cantidad_heroes()

#E
print("\nBúsqueda por proximidad para 'Doctor S':")
superArbol.proximity_search("Doctor S")
print("\nModificando el nombre de 'Doctor S' a 'Doctor Strange':")
superArbol.change_name("Doctor S", "Doctor Strange")

#F
print("\nSuperhéroes ordenados de manera descendente:")
superArbol.post_order()

#G
superArbol.generar_bosque(superArbolHeroes, superArbolVillanos)

#I
print("\nCantidad de nodos en el árbol de héroes:")
superArbolHeroes.cantidad_nodos()

print("\nCantidad de nodos en el árbol de villanos:")
superArbolVillanos.cantidad_nodos()


#II
print("\nSuperhéroes ordenados alfabéticamente:")
superArbolHeroes.in_order()
print("\nVillanos ordenados alfabéticamente:")
superArbolVillanos.in_order()
